---
title: "raw_to_clean"
output: html_document
date: "2025-04-23"
---

## Control under pressure â€” the influence of aversive motivation on adaptive control

## Raw to clean

## Loading packages

```{r}
if(!require("tidyverse")) install.packages("tidyverse")
library(tidyverse)
library(dplyr)
library(stringr)
```

## Loading raw data

```{r}
raw_data <- read.csv("pilotresults.csv")
```

## Cleaning/filtering data

```{r}

#Filtering columns
raw_data_filtered = raw_data %>% 
  select(
         -trial_index,
         -plugin_version,
         -success,
         -question_order,
         -slider_start,
         -stimulus,
         -time_elapsed)

raw_data_filtered = raw_data_filtered %>% 
   filter(response == "n" | response == "j" | response == "f" | response == "g" | response == "null")

#Filtering stimuli


#True/false values to 1/0
raw_data_filtered = raw_data_filtered %>%
  mutate(
    correct = factor(recode(correct,
                             "true" = "1",
                             "false" = "0")))

likert_data = raw_data %>% 
  filter( trial_type == "survey-likert")
```
